<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Geolocation Example</title>
	</head>
	<body>
		<h1>Get Geolocation with GPS</h1>

		<button id="get-location">Get My Location</button>

		<h2>Device Location</h2>
		<p id="location-info"></p>

		<script>
			document.getElementById('get-location').addEventListener('click', () => {
				if (navigator.geolocation) {
					navigator.geolocation.getCurrentPosition(success, error, {
						enableHighAccuracy: true, // Minta akurasi tinggi
						timeout: 5000, // Waktu maksimum menunggu hasil (ms)
						maximumAge: 0, // Jangan gunakan data lokasi yang sudah ada
					});
				} else {
					document.getElementById('location-info').textContent = 'Geolocation is not supported by this browser.';
				}
			});

			function success(position) {
				const latitude = position.coords.latitude;
				const longitude = position.coords.longitude;
				const accuracy = position.coords.accuracy;

				document.getElementById('location-info').innerHTML = `
                <strong>Latitude:</strong> ${latitude} <br>
                <strong>Longitude:</strong> ${longitude} <br>
                <strong>Accuracy:</strong> ${accuracy} meters
            `;
			}

			function error(err) {
				document.getElementById('location-info').textContent = `Error: ${err.message}`;
			}
		</script>
	</body>
</html>
